{"ast":null,"code":"import _slicedToArray from\"C:/Users/yogesh/OneDrive/Desktop/gamingreact-1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import GameCircle from\"./GameCircle\";import\"../Game.css\";import Header from\"./Header\";import Footer from\"./Footer\";import{iSDraw,isWinner,getComputerMove}from\"./helper\";import{useEffect}from\"react\";import{GAME_STATE_PLAYING,NO_PLAYER,PLAYER_1,PLAYER_2,NO_CIRCLE,GAME_STATE_WIN,GAME_STATE_DRAW}from\"../Constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GameBoard=function GameBoard(){var _useState=useState(Array(NO_CIRCLE).fill(NO_PLAYER)),_useState2=_slicedToArray(_useState,2),gameBoard=_useState2[0],setGameBoard=_useState2[1];var _useState3=useState(PLAYER_1),_useState4=_slicedToArray(_useState3,2),currentPlayer=_useState4[0],setcurrentPlayer=_useState4[1];var _useState5=useState(GAME_STATE_PLAYING),_useState6=_slicedToArray(_useState5,2),gamestate=_useState6[0],setGameState=_useState6[1];var _useState7=useState(NO_PLAYER),_useState8=_slicedToArray(_useState7,2),winPlayer=_useState8[0],setWinPlayer=_useState8[1];useEffect(function(){initGame();},[]);var initGame=function initGame(){setcurrentPlayer(PLAYER_1);setGameBoard(Array(NO_CIRCLE).fill(NO_PLAYER));setGameState(GAME_STATE_PLAYING);};var initBoard=function initBoard(){var circles=[];for(var i=0;i<NO_CIRCLE;i++){circles.push(renderCircle(i));}return circles;};var suggestMove=function suggestMove(){clickCircle(getComputerMove(gameBoard));};var clickCircle=function clickCircle(id){console.log('clicked circle '+id);if(gameBoard[id]!==NO_PLAYER)return;if(gamestate!==GAME_STATE_PLAYING)return;if(isWinner(gameBoard,id,currentPlayer)){setGameState(GAME_STATE_WIN);setWinPlayer(currentPlayer);}if(iSDraw(gameBoard,id,currentPlayer)){setGameState(GAME_STATE_DRAW);setWinPlayer(NO_PLAYER);}setGameBoard(function(prev){return prev.map(function(circles,pos){if(pos===id)return currentPlayer;return circles;});});setcurrentPlayer(currentPlayer===PLAYER_1?PLAYER_2:PLAYER_1);};var renderCircle=function renderCircle(id){return/*#__PURE__*/_jsx(GameCircle,{id:id,className:\"player_\".concat(gameBoard[id]),onCircleClicked:clickCircle},id);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{gamestate:gamestate,currentPlayer:currentPlayer,winPlayer:winPlayer}),/*#__PURE__*/_jsx(\"div\",{className:\"gameBoard\",children:initBoard()}),/*#__PURE__*/_jsx(Footer,{onClickEvent:initGame,onSuggestClick:suggestMove,gamestate:gamestate})]});};export default GameBoard;","map":{"version":3,"names":["React","useState","GameCircle","Header","Footer","iSDraw","isWinner","getComputerMove","useEffect","GAME_STATE_PLAYING","NO_PLAYER","PLAYER_1","PLAYER_2","NO_CIRCLE","GAME_STATE_WIN","GAME_STATE_DRAW","GameBoard","Array","fill","gameBoard","setGameBoard","currentPlayer","setcurrentPlayer","gamestate","setGameState","winPlayer","setWinPlayer","initGame","initBoard","circles","i","push","renderCircle","suggestMove","clickCircle","id","console","log","prev","map","pos"],"sources":["C:/Users/yogesh/OneDrive/Desktop/gamingreact-1/src/Components/GameBoard.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport GameCircle from \"./GameCircle\";\r\nimport \"../Game.css\"\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport { iSDraw, isWinner ,getComputerMove} from \"./helper\";\r\nimport { useEffect } from \"react\";\r\nimport { GAME_STATE_PLAYING ,NO_PLAYER,PLAYER_1,PLAYER_2, NO_CIRCLE, GAME_STATE_WIN, GAME_STATE_DRAW} from \"../Constants\";\r\n\r\nconst GameBoard = ()=>{\r\n    const [gameBoard,setGameBoard]=useState(Array(NO_CIRCLE).fill(NO_PLAYER))\r\n    const [currentPlayer,setcurrentPlayer]=useState(PLAYER_1)\r\n    const [gamestate,setGameState]=useState(GAME_STATE_PLAYING)\r\n    const[winPlayer,setWinPlayer]=useState(NO_PLAYER);\r\n    \r\nuseEffect(()=>{\r\n    initGame()\r\n},[])\r\n\r\n    const initGame=()=>{\r\n        setcurrentPlayer(PLAYER_1)\r\n\r\n        setGameBoard(Array(NO_CIRCLE).fill(NO_PLAYER))\r\n        setGameState(GAME_STATE_PLAYING)\r\n    }\r\n    const initBoard=()=>{\r\n        const circles=[]\r\n        for(let i=0;i<NO_CIRCLE;i++){\r\n            circles.push(renderCircle(i))\r\n        }\r\n        return circles\r\n    };\r\n    const suggestMove=()=>{\r\n        clickCircle(getComputerMove(gameBoard))\r\n    }\r\n\r\n    const clickCircle = (id)=>{\r\n\r\n        \r\n       console.log('clicked circle ' + id)\r\n       if(gameBoard[id]!==NO_PLAYER)return;\r\n       if(gamestate!==GAME_STATE_PLAYING)return\r\n       if(isWinner(gameBoard, id,currentPlayer)){\r\n   setGameState(GAME_STATE_WIN)\r\n   setWinPlayer(currentPlayer)\r\n    }\r\n\r\n    if(iSDraw(gameBoard, id,currentPlayer)){\r\n        setGameState(GAME_STATE_DRAW)\r\n        setWinPlayer(NO_PLAYER)\r\n         }\r\n       setGameBoard(prev =>{\r\n       return prev.map((circles,pos)=>{\r\n        if(pos===id)return currentPlayer;\r\n        return circles\r\n       })\r\n    })\r\n       \r\n       setcurrentPlayer(currentPlayer===PLAYER_1?PLAYER_2:PLAYER_1)\r\n    }\r\n\r\n\r\n    const renderCircle=id=>{\r\n      return <GameCircle id={id} key={id} className={`player_${gameBoard[id]}`} onCircleClicked ={clickCircle}/>\r\n    \r\n    }\r\nreturn(\r\n    <>\r\n   <Header gamestate={gamestate} currentPlayer={currentPlayer} winPlayer={winPlayer}/>\r\n <div className=\"gameBoard\">\r\n {initBoard()}\r\n\r\n </div>\r\n <Footer onClickEvent={initGame} onSuggestClick={suggestMove} gamestate={gamestate}/>\r\n </>\r\n )\r\n}\r\nexport default GameBoard;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}